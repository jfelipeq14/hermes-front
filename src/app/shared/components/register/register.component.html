<div class="container">
    <h2 class="text-2xl font-bold text-gray-800">Registrarse</h2>

    <fieldset class="flex flex-row gap-2">
        <div class="flex flex-col flex-1 field">
            <label for="typeDocument">Tipo de Documento *</label>
            <p-dropdown id="typeDocument" [options]="typesDocument" [(ngModel)]="user.typeDocument" name="typeDocument" optionLabel="name" optionValue="value" placeholder="Seleccione un tipo de documento" required></p-dropdown>
            <small class="p-error" *ngIf="submitted && !user.typeDocument">El tipo de documento es obligatorio.</small>
        </div>

        <div class="flex flex-col flex-1 field">
            <label for="document">Número de Documento*</label>
            <input type="text" pInputText id="document" [(ngModel)]="user.document" required />
            <small class="p-error" *ngIf="submitted && !user.document">El documento es obligatorio.</small>
        </div>
    </fieldset>

    <fieldset class="flex flex-row gap-2">
        <div class="flex flex-col flex-1 field">
            <label for="name">Nombres*</label>
            <input type="text" pInputText id="name" [(ngModel)]="user.name" required />
            <small class="p-error" *ngIf="submitted && !user.name">El nombre es obligatorio.</small>
        </div>

        <div class="flex flex-col flex-1 field">
            <label for="surName">Apellidos*</label>
            <input type="text" pInputText id="surName" [(ngModel)]="user.surName" required />
            <small class="p-error" *ngIf="submitted && !user.surName">El apellido es obligatorio.</small>
        </div>
    </fieldset>

    <div class="flex flex-col field">
        <label for="email">Correo Electrónico*</label>
        <input type="email" pInputText id="email" [(ngModel)]="user.email" required />
        <small class="p-error" *ngIf="submitted && !user.email">El correo es obligatorio.</small>
    </div>

    <div class="flex flex-col field">
        <label for="password">Contraseña*</label>
        <input type="password" pInputText id="password" [(ngModel)]="user.password" required />
        <small class="p-error" *ngIf="submitted && !user.password">La contraseña es obligatoria.</small>
    </div>

    <fieldset class="flex flex-row gap-2">
        <div class="flex flex-col flex-1 field">
            <label for="idMunicipality">Municipio *</label>
            <p-dropdown id="idMunicipality" [options]="municipalities" [(ngModel)]="user.idMunicipality" name="idMunicipality" optionLabel="name" optionValue="id" placeholder="Seleccione un municipio" [showClear]="true" required></p-dropdown>
            <small class="p-error" *ngIf="submitted && !user.idMunicipality">El municipio es obligatorio.</small>
        </div>

        <div class="flex flex-col flex-1 field">
            <label for="phone">Teléfono*</label>
            <input type="text" pInputText id="phone" [(ngModel)]="user.phone" required />
            <small class="p-error" *ngIf="submitted && !user.phone">El teléfono es obligatorio.</small>
        </div>
    </fieldset>

    <div class="flex gap-2 my-5 align-items-center justify-content-end">
        <p-button label="Cancelar" styleClass="p-button-text" icon="pi pi-times" severity="danger" (onClick)="onClosePopup()"></p-button>
        <p-button label="Registrarse" icon="pi pi-check" (onClick)="onSubmit()"></p-button>
    </div>
</div>

<p-toast />
